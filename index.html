<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Assessments & Reports</title>
    <meta name="description" content="Access personalised mental health assessments and reports to empower your self-awareness and well-being.">
    <meta name="keywords" content="Mental Health, Assessment, Reports, Self-awareness, Well-being">
    <style>
        /* General Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
        }

        header {
            background-color: #3b82f6;
            color: white;
            padding: 30px 20px;
            width: 100%;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: bold;
        }

        main {
            max-width: 1200px;
            width: 100%;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        /* Section Styles */
        .section {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
        }

        .section h2 {
            font-size: 1.8rem;
            color: #3b82f6;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 10px;
        }

        /* Content Layout */
        .content-grid {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .column {
            flex: 1;
            min-width: 280px;
        }

        .column p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 0;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #374151;
        }

        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 1rem;
            background-color: #f9fafb;
        }

        .form-group input[type="submit"] {
            background-color: #3b82f6;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            text-transform: uppercase;
            width: 100%;
            transition: background-color 0.3s ease;
        }

        .form-group input[type="submit"]:hover {
            background-color: #2563eb;
        }

        #message,
        #formMessage,
        #success-message {
            margin-top: 20px;
            text-align: center;
            font-size: 1rem;
        }

        #success-message {
            display: none;
            color: green;
        }

        .help-text {
            font-size: 0.9rem;
            color: #6b7280;
            text-align: center;
            margin-top: -10px;
        }

        /* Footer Styles */
        footer {
            background-color: #3b82f6;
            color: white;
            padding: 20px;
            width: 100%;
            text-align: center;
            margin-top: auto;
        }

        footer p {
            margin: 5px 0;
            font-size: 0.9rem;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>Mental Health Assessments & Reports</h1>
    </header>
    <main>
        <!-- Welcome and Mission Section -->
        <div class="section">
            <div class="content-grid">
                <div class="column">
                    <h2>Welcome</h2>
                    <p>Welcome to the Mental Health Assessments & Reports portal, your trusted resource for understanding and navigating your mental health journey. Personalised insights and assessments are provided to empower your self-awareness and well-being. Assessments can be conducted through paper-based or virtual meetings. Support is available every step of the way as you embrace your strengths and challenges.</p>
                </div>
                <div class="column">
                    <h2>Our Mission</h2>
                    <p>Our mission is to empower individuals facing mental health challenges by helping them gain a deeper understanding of themselves. We believe that self-awareness is the first step towards healing and growth. By offering detailed and personalised assessments, we aim to provide the tools and insights necessary for individuals to navigate their mental health journey with confidence and clarity.</p>
                </div>
            </div>
        </div>

        <!-- Access Your Report Section -->
        <div class="section">
            <h2>Access Your Report</h2>
            <form id="profileCodeForm" onsubmit="redirectToReport(event)" novalidate>
                <div class="form-group">
                    <label for="profileCode">Enter your Profile Code:</label>
                    <input type="text" id="profileCode" name="profileCode" aria-label="Enter your Profile Code" required>
                    <div class="help-text">Format: PC12345</div>
                </div>
                <div id="message" role="alert" aria-live="polite"></div>
                <div class="form-group">
                    <input type="submit" value="View Report">
                </div>
                <div id="success-message" aria-live="polite">
                    The folder has been located. Redirecting you now...
                </div>
            </form>
        </div>

        <!-- Request an Assessment Section -->
        <div class="section">
            <h2>Request an Assessment</h2>
            <form id="assessmentForm" action="https://formspree.io/f/xnnazkbr" method="POST">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="age">Age:</label>
                    <input type="number" id="age" name="age" required placeholder="Enter your age" min="1">
                </div>
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select your gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                        <option value="prefer_not_to_say">Prefer not to say</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reason">Why do you need an assessment?</label>
                    <textarea id="reason" name="reason" required placeholder="Briefly describe your reason for seeking an assessment"></textarea>
                </div>
                <div id="formMessage" role="alert"></div>
                <div class="form-group">
                    <input type="submit" value="Submit">
                </div>
            </form>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Mental Health Assessments & Reports. All rights reserved.</p>
        <p>
            <a href="mailto:assessmentandprofiling@outlook.com">Contact Us</a> | 
            <a href="#privacy-policy">Privacy Policy</a>
        </p>
        <p>
            This section is used for virtual communication. Please use the 
            <a href="mailto:assessmentandprofiling@outlook.com" style="text-decoration: underline;">Contact Us</a> 
            link to send an email to access the 
            <a href="https://doxy.me/drclnt" target="_blank" style="text-decoration: underline;">Virtual Communication Dashboard</a>.
        </p>
    </footer>

    <script>
        document.getElementById("profileCode").addEventListener("input", function() {
            var profileCode = this.value.trim();
            var messageDiv = document.getElementById("message");

            // Simple validation for Profile Code format
            if (!/PC\d{5}/.test(profileCode)) {
                messageDiv.textContent = "Profile Code should be in the format 'PC' followed by 5 digits.";
                messageDiv.style.color = "orange";
            } else {
                messageDiv.textContent = "";
            }
        });

        function redirectToReport(event) {
            event.preventDefault();
            var profileCode = document.getElementById("profileCode").value.trim();
            var messageDiv = document.getElementById("message");
            var successMessageDiv = document.getElementById("success-message");

            messageDiv.textContent = "Loading your report, please wait...";
            messageDiv.style.color = "blue";
            successMessageDiv.style.display = "none";  // Hide success message initially

            setTimeout(function() {
                switch(profileCode) {
                    case "PC12593":
                    case "PC14638":
                    case "PC18394":
                    case "PC18472":
                    case "PC19364":
                    case "PC00023":
                        successMessageDiv.style.display = "block";  // Show success message
                        messageDiv.textContent = "";  // Clear the loading message
                        setTimeout(function() {
                            window.location.href = getRedirectUrl(profileCode);
                        }, 2000);  // Delay to show the success message before redirecting
                        break;
                    default:
                        messageDiv.textContent = "Profile Code not recognised. Please try again.";
                        messageDiv.style.color = "red";
                        break;
                }
            }, 1000); // Simulate loading delay
        }

        function getRedirectUrl(profileCode) {
            var urls = {
                "PC12593": "https://1drv.ms/f/s!AmdizPMCQhSggiVJtGt4cyzT82oU?e=Q0Tns8",
                "PC14638": "https://1drv.ms/f/s!AmdizPMCQhSggiawYVnTpo7_oO4p?e=qWa3oZ",
                "PC18394": "https://1drv.ms/f/s!AmdizPMCQhSggiVJtGt4cyzT82oU?e=Q0Tns8",
                "PC18472": "https://1drv.ms/f/s!AmdizPMCQhSggiawYVnTpo7_oO4p?e=qWa3oZ",
                "PC19364": "https://1drv.ms/f/s!AmdizPMCQhSggilQyPnzHgAnt6dg?e=w82gS9",
                "PC00023": "https://1drv.ms/f/s!AmdizPMCQhSggixGfopElthOsdjv?e=5hJHUy"
            };
            return urls[profileCode];
        }

        // Formspree submission handling
        document.getElementById("assessmentForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent default form submission behavior

            fetch(this.action, {
                method: this.method,
                body: new FormData(this),
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if (response.ok) {
                    document.getElementById("formMessage").textContent = "Thank you! Your assessment request has been submitted.";
                    document.getElementById("formMessage").style.color = "green";
                    this.reset(); // Reset the form fields
                } else {
                    document.getElementById("formMessage").textContent = "Oops! Something went wrong. Please try again.";
                    document.getElementById("formMessage").style.color = "red";
                }
            });
        });
    </script>
</body>
</html>
